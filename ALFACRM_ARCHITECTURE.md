# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö AlfaCRM

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### 1. **Group Schedule (–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø)**
```
regular_lesson –≤ AlfaCRM ‚Üí group_schedule –≤ –Ω–∞—à–µ–π –ë–î
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –°–æ–∑–¥–∞–µ—Ç—Å—è –®–ê–ë–õ–û–ù —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –≥—Ä—É–ø–ø—ã
- –ù–∞–ø—Ä–∏–º–µ—Ä: "–ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ 10:00-11:00 –¥–ª—è –≥—Ä—É–ø–ø—ã 670"
- –ü–µ—Ä–∏–æ–¥ –¥–µ–π—Å—Ç–≤–∏—è: —Å 10.07.2025 –ø–æ 17.07.2026
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —É—á–∏—Ç–µ–ª—é –∏ –∫–æ–º–Ω–∞—Ç–µ

**–ü–æ–ª—è:**
- `id` - ID —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –∑–∞–Ω—è—Ç–∏—è –∏–∑ AlfaCRM
- `group_id` - ID –≥—Ä—É–ø–ø—ã
- `day_of_week` - –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (0=–í—Å, 1=–ü–Ω, ... 6=–°–±)
- `time_from`, `time_to` - –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞
- `teacher_id`, `room_id` - –£—á–∏—Ç–µ–ª—å –∏ –∫–æ–º–Ω–∞—Ç–∞
- `start_date`, `end_date` - –ü–µ—Ä–∏–æ–¥ –¥–µ–π—Å—Ç–≤–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- `is_active` - –ê–∫—Ç–∏–≤–Ω–æ –ª–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑ AlfaCRM:**
- –ù–∞–π–¥–µ–Ω–æ 151 —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

---

### 2. **Student Subscriptions (–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤)**
```
lesson.details[].ctt_id –≤ AlfaCRM ‚Üí student_subscriptions –≤ –Ω–∞—à–µ–π –ë–î
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –°—Ç—É–¥–µ–Ω—Ç –ø–æ–∫—É–ø–∞–µ—Ç –∞–±–æ–Ω–µ–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 8 –∑–∞–Ω—è—Ç–∏–π –≤ –≥—Ä—É–ø–ø–µ)
- –ü—Ä–∏ –∫–∞–∂–¥–æ–º –ø–æ—Å–µ—â–µ–Ω–∏–∏ —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è 1 –∑–∞–Ω—è—Ç–∏–µ
- –ê–±–æ–Ω–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è

**–ü–æ–ª—è:**
- `id` - ctt_id –∏–∑ AlfaCRM
- `student_id` - ID —Å—Ç—É–¥–µ–Ω—Ç–∞
- `group_id` - ID –≥—Ä—É–ø–ø—ã (–µ—Å–ª–∏ –≥—Ä—É–ø–ø–æ–≤–æ–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç)
- `teacher_id` - ID —É—á–∏—Ç–µ–ª—è (–µ—Å–ª–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π)
- `total_lessons` - –í—Å–µ–≥–æ –æ–ø–ª–∞—á–µ–Ω–æ –∑–∞–Ω—è—Ç–∏–π
- `used_lessons` - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∑–∞–Ω—è—Ç–∏–π
- `total_price` - –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- `price_per_lesson` - –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ –∑–∞–Ω—è—Ç–∏–µ
- `start_date`, `end_date`, `paid_till` - –°—Ä–æ–∫–∏
- `status` - –°—Ç–∞—Ç—É—Å (active, completed, expired, frozen)

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑ AlfaCRM:**
- –ù–∞–π–¥–µ–Ω–æ 134 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (CTT)
- 134 —Å—Ç—É–¥–µ–Ω—Ç–∞ —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞–º–∏
- –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–Ω—è—Ç–∏—è: 2,250-3,360 ‚Ç∏

---

### 3. **Lesson Attendance (–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å)**
```
lesson.details –≤ AlfaCRM ‚Üí lesson_attendance –≤ –Ω–∞—à–µ–π –ë–î
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–∞ –∑–∞–Ω—è—Ç–∏–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å
- –•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é: –±—ã–ª –ª–∏ –Ω–∞ –∑–∞–Ω—è—Ç–∏–∏, —Å –∫–∞–∫–æ–≥–æ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ —Å–ø–∏—Å–∞–Ω–æ, —Å–∫–æ–ª—å–∫–æ —Å–ø–∏—Å–∞–Ω–æ

**–ü–æ–ª—è:**
- `lesson_id` - ID –∑–∞–Ω—è—Ç–∏—è
- `student_id` - ID —Å—Ç—É–¥–µ–Ω—Ç–∞
- `subscription_id` - ID –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (ctt_id)
- `is_attended` - –ë—ã–ª –ª–∏ –Ω–∞ –∑–∞–Ω—è—Ç–∏–∏
- `commission_amount` - –°—É–º–º–∞ —Å–ø–∏—Å–∞–Ω–∏—è
- `status` - –°—Ç–∞—Ç—É—Å (scheduled, attended, absent, cancelled)
- `grade` - –û—Ü–µ–Ω–∫–∞
- `note` - –ó–∞–º–µ—Ç–∫–∞

---

### 4. **Lessons (–ó–∞–Ω—è—Ç–∏—è)**
```
lesson –≤ AlfaCRM ‚Üí lessons –≤ –Ω–∞—à–µ–π –ë–î
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ó–∞–Ω—è—Ç–∏—è –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (group_schedule)
- –ö–∞–∂–¥–æ–µ –∑–∞–Ω—è—Ç–∏–µ –∏–º–µ–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (`regular_id`)
- –°—Ç—É–¥–µ–Ω—Ç—ã –Ω–∞ –∑–∞–Ω—è—Ç–∏–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ –≥—Ä—É–ø–ø—ã

**–ü–æ–ª—è:**
- `id` - ID –∑–∞–Ω—è—Ç–∏—è
- `regular_id` - ID —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (–æ—Ç–∫—É–¥–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ)
- `group_id` - ID –≥—Ä—É–ø–ø—ã
- `teacher_id` - ID —É—á–∏—Ç–µ–ª—è
- `room_id` - ID –∫–æ–º–Ω–∞—Ç—ã
- `date`, `start_time`, `end_time` - –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
- `status` - –°—Ç–∞—Ç—É—Å (scheduled, completed, cancelled)

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑ AlfaCRM:**
- –ù–∞–π–¥–µ–Ω–æ 19,312 –∑–∞–Ω—è—Ç–∏–π (–º—ã –º–∏–≥—Ä–∏—Ä–æ–≤–∞–ª–∏ 546 –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü)

---

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
1. –°–û–ó–î–ê–ù–ò–ï –ì–†–£–ü–ü–´
   ‚Üì
2. –°–û–ó–î–ê–ù–ò–ï –†–ê–°–ü–ò–°–ê–ù–ò–Ø (group_schedule)
   –ù–∞–ø—Ä–∏–º–µ—Ä: "–ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ 10:00-11:00"
   ‚Üì
3. –°–¢–£–î–ï–ù–¢ –ü–û–ö–£–ü–ê–ï–¢ –ê–ë–û–ù–ï–ú–ï–ù–¢ (student_subscriptions)
   –ù–∞–ø—Ä–∏–º–µ—Ä: "8 –∑–∞–Ω—è—Ç–∏–π –≤ –≥—Ä—É–ø–ø–µ Elementary –∑–∞ 25,000‚Ç∏"
   ‚Üì
4. –°–ò–°–¢–ï–ú–ê –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –ì–ï–ù–ï–†–ò–†–£–ï–¢ –ó–ê–ù–Ø–¢–ò–Ø (lessons)
   –ù–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –Ω–∞ N –Ω–µ–¥–µ–ª—å –≤–ø–µ—Ä–µ–¥
   ‚Üì
5. –°–¢–£–î–ï–ù–¢–´ –ù–ê –ó–ê–ù–Ø–¢–ò–ò
   –ë–µ—Ä—É—Ç—Å—è –∏–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ –≥—Ä—É–ø–ø—ã
   ‚Üì
6. –ü–û–°–ï–©–ï–ù–ò–ï –ó–ê–ù–Ø–¢–ò–Ø
   –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ lesson_attendance
   –°–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è 1 –∑–∞–Ω—è—Ç–∏–µ —Å –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞
   –°–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å—É–º–º–∞ (commission_amount)
```

---

## üìã –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ ‚úÖ
- [x] Teachers (–£—á–∏—Ç–µ–ª—è) - 7 –∑–∞–ø–∏—Å–µ–π
- [x] Rooms (–ö–æ–º–Ω–∞—Ç—ã) - 6 –∑–∞–ø–∏—Å–µ–π  
- [x] Students (–°—Ç—É–¥–µ–Ω—Ç—ã) - 264 –∑–∞–ø–∏—Å–∏
- [x] Groups (–ì—Ä—É–ø–ø—ã) - 53 –∑–∞–ø–∏—Å–∏

### –≠—Ç–∞–ø 2: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å regular_lesson ‚Üí group_schedule (151 —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ)
- [ ] –ò–∑–≤–ª–µ—á—å CTT –∏–∑ lesson.details ‚Üí student_subscriptions (134 –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞)
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å lesson.details ‚Üí lesson_attendance

### –≠—Ç–∞–ø 3: –ó–∞–Ω—è—Ç–∏—è
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å lessons —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ regular_id (546 –∑–∞ –º–µ—Å—è—Ü)
- [ ] –°–≤—è–∑–∞—Ç—å —Å –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ lesson_attendance

### –≠—Ç–∞–ø 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–Ω—è—Ç–∏–π (–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–Ω—è—Ç–∏–π –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å UI –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ —Å –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤

---

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –ó–∞–Ω—è—Ç–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
2. **–ì–∏–±–∫–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ - –Ω–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è —Å–æ–∑–¥–∞–¥—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. **–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –¢–æ—á–Ω—ã–π —É—á–µ—Ç —Å–ø–∏—Å–∞–Ω–∏–π —Å –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
5. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–∏–π –∏ —Å–ø–∏—Å–∞–Ω–∏–π

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π –∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤**
2. **–°–æ–∑–¥–∞—Ç—å –±—ç–∫–µ–Ω–¥ API** –¥–ª—è:
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º (CRUD group_schedule)
   - –ü—Ä–æ–¥–∞–∂–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ (CRUD student_subscriptions)
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–Ω—è—Ç–∏–π –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
   - –û—Ç–º–µ—Ç–∫–∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ (lesson_attendance)

3. **–°–æ–∑–¥–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ UI** –¥–ª—è:
   - –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≥—Ä—É–ø–ø
   - –ü—Ä–æ–¥–∞–∂–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—É–¥–µ–Ω—Ç–∞–º
   - –ñ—É—Ä–Ω–∞–ª –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
   - –û—Å—Ç–∞—Ç–∫–∏ –ø–æ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞–º

4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**:
   - Cron job –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–Ω—è—Ç–∏–π –Ω–∞ –Ω–µ–¥–µ–ª—é –≤–ø–µ—Ä–µ–¥
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏—Å—Ç–µ–∫–∞—é—â–∏—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞—Ö
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–æ—Ä–æ–∑–∫–∞ –∑–∞–Ω—è—Ç–∏–π –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ —Å—Ä–µ–¥—Å—Ç–≤

